Fri Mar 20 11:15:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* checks/client.m: Added some tests for passing objects byref

	* checks/server.h: Added ([-sendByref:]) to protocol.

	* checks/server.m: Added ([-sendByref:]) for testing 'byref'.

	* src/Coder.m: Added ([-encodeByrefObject:])

	* src/Encoder.m: Added ([-_doEncodeByrefObject:]) and changed the
	designated encoding method throughout from
	([-_encodeObject:withName:isBycopy:isForwardReference:]) to
	([-_encodeObject:withName:isBycopy:isByref:isForwardReference:])

	* src/NSCoder.m: Added ([-encodeBytes:length:]),
	([-encodeByrefObject:]) and ([-decodeBytesWithReturnedLength:])

	* src/NSConnection.m:  Modified ([-forwardForProxy:selector:argFrame:])
	and ([-_service_forwardForProxy:]) methods to handle byref flag.

	* src/NSDictionary.m: Added ([+dictionaryWithDictionary:])

	* src/NSPortCoder.m:  Added ([-isByref]) and ([-_doEncodeByrefObject:])
	methods and modified ([-_doEncodeBycopyObject:]) to handle byref flag.

	* src/include/Coding.h:  Added ([-encodeByrefObject:])

	* src/include/NSCoder.h:  Added ([-encodeBytes:length:]),
	([-encodeByrefObject:]) and ([-decodeBytesWithReturnedLength:])

	* src/include/NSDictionary.h:  Fixed prototype for the
	([+dictionaryWithDictionary:]) method.

	* src/include/NSPortCoder.h:  Added ([-isByref])

	* src/objc-gnu2next.m: Added _F_BYREF flag code

Fri Mar 13 15:05:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

        * src/NSCalendarDate.m: ([-descriptionWithCalendarFormat:locale:])
        Fixed bug in displaying time-zone - was displaying minutes and
        seconds when should have been showing hours and minutes.

Wed Mar 11 11:56:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* src/NSArray.m: ([-copyWithZone:]) changed to use the
	NSShouldRetainWithZone() function.

	* src/NSCalendarDate.m: ([-dealloc]) don't release the timezone -
	we never retain it anyway (should we?)
	([-setCalendarFormat:]) make a copy of the string we are given in
	case it gets changed or deleted.

	* src/NSConcreteNumber.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/NSData.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/NSDictionary.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/NSHost.m: Added ([-awakeAfterUsingCoder:])

	* src/NSNumber.m: Added ([-copy]) and ([-copyWithZone:])

	* src/NSString.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/TcpPort.m: Commented out unnecessary warning message.

	* src/NSTimeZone.m: Modified ([-encodeWithCoder:]) and
	([-awakeAfterUsingCoder:]) so that the local timezone is encoded
	specially and is restored as whatever the local timezone of the
	restoring application is.

	* src/NSValue.m: Added ([-copy]) and ([-isEqualToValue:])

Tue Mar 10 17:05:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* src/NSArray.m: ([-copyWithZone:]) rewritten to avoid doing
	unnecessary copy of non-mutable objects and to fix memory leak.

	* src/NSCTemplateValue.m: ([-isEqaul:]) and ([-isEqualToValue:])
	implemented.

	* src/NSCalendarDate.m: ([-initWithCoder:]) and ([-encodeWithCoder:])
	implemented.

	* src/NSConcreteNumber.m: ([-copy]) and ([-copyWithZone:])
	implemented to do simple retains.

	* src/NSDictionary.m: ([-copyWithZone:]) rewritten to avoid doing
	unnecessary copy of non-mutable objects and to fix memory leak.

	* src/NSGString.m: ([-cString]) fixed crash when called on empty
	string.

	* src/NSTimeZone.m: ([-awakeAfterUsingCoder:]) implemented to handle
	decopding of archived objects correctly.

	* src/include/NSValue.h: Added ([-isEqualToValue:])
