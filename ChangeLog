Thu Apr 16 13:45:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* checks/client.m: enable testing of DO strucuture return.

	* checks/server.m: fix typo in keyword

	* src/KeyedCollection.m: ([-decodeContentsWithCoder:]) fixed a
	memory leak.

	* src/mframe.m: Fixed a few bugs in returning structures - now works
	properly on GNU/Linux intel.  Can anyone figure out how to handle
	all this stuff using autoconf?

Mon Apr 20 09:23:58 1998  Adam Fedor  <fedor@ultra.doc.com>

	* src/NSLock.m: Eliminate busy waiting from NSConditionLock
	* src/NSLock.h: add instance variable and rename "value" to
	support changes to NSConditionLock
	* src/NSLock.m: Raise appropriate exceptions
	* src/NSLock.m: Prevent NSLock and NSConditionLock from being
	locked recursively
	* src/NSThread.m: -sleepUntilDate: implemented
	* src/NSThread.m: remove calls to objc_get_thread_data except
	in currentThread message
	* src/BinaryCStream.m: Replace assert's with NS*Assert
	* src/CStream.m.orig: Likewise
	* src/Decoder.m: Likewise
	* src/Encoder.m: Likewise
	* src/MemoryStream.m: Likewise
	* src/RawCStream.m: Likewise
	* src/TextCStream.m: Likewise
	* src/ostream.m.orig: Likewise
	(patches from Quetzalcoatl Bradley <qbradley@csc.uvic.ca>).

	* src/NSFileManager.h: Include pwd.h if we have it
	* configure.in: Check for pwd.h
	* configure: regenerate.
	* src/include/config.h.in: Likewise.

Wed Apr 15 09:54:25 1998  Adam Fedor  <fedor@doc.com>

	* src/NSFileManager.m ([NSFileManager
	-fileAttributesAtPath:traverseLink:]): Add NSFileOwnerAccountName.
	* src/externs.m: Add NSFileOwnerAccountName definition.
	(patch provided by Marcus Mueller <znek@object-factory.com>)

	* src/NSThread.m (-sleepUntilDate:): Implemented (from
	Quetzalcoatl Bradley <qbradley@csc.uvic.ca>).

Sun Apr  5 20:07:28 1998  Scott Christley  <scottc@net-community.com>

	* Utilize documentation rules in Makefile Package.
	* doc/GNUmakefile: Rewrite to use Makefile Package.
	* doc/Makefile.postamble: Remove old obsolete rules.

	* Documentation which covers GNUstep as a whole versus just
	gstep-base has been moved to the top level Documentation dir.
	* GNUstep-HOWTO: Delete.
	* doc/gnustep-base.tmpl.texi: GNUstep-HOWTO and FAQ removed.
	Add variable so that included files know they are within the
	main document.
	* doc/gnustep-howto.tmpl.texi: Delete.
	* doc/faq.tmpl.texi: Delete.
	* doc/announce.tmpl.texi: Don't include version.texi needlessly.
	* doc/news.tmpl.texi: Don't include version.texi needlessly.
	* doc/todo.tmpl.texi: Don't include version.texi needlessly.

	* src/GNUmakefile: Don't compile Random class as the name too
	often conflicts with user apps.

	* src/GetDefEncoding.m: Reformat.

	* src/NSArray.m (-replaceObjectsInRange:withObjectsFromArray:):
 	Fix range check.  Use enumerator instead of count.
	
Wed Apr  1 18:45:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* Tools/gdomap.m: Modified code so that we make sure we have at least
	one valid route to any gdomap process which has probed us.  This is
	to cope with machines which send out info about all their interfaces
	when one or more of the interfaces is not working.

	* src/checks/nstask.m: added test for environment setting.

	* src/NSCalendarDate.m: Fixed bug in initialisation where daylight
	savings time is in operation - was adjusting in wrong direction.

	* src/NSRunLoop.m: Added NSObject catagory for the methods -
	([NSObject +cancelPreviousPerformRequestsWithTarget:selector:object:]),
	([NSObject -performSelector:withObject:afterDelay:]), and
	([NSObject -performSelector:withObject:afterDelay:inModes:])

	* src/NSTask.m: Various bug fixes as a result of running the test
 	suite.  All seems to work ok now.

	* src/NSDate.h: Changed order of declaractions so this can be included
	within NSObject.h

	* src/NSObject.h: Added run-loop integration methods -
	([NSObject +cancelPreviousPerformRequestsWithTarget:selector:object:]),
	([NSObject -performSelector:withObject:afterDelay:]), and
	([NSObject -performSelector:withObject:afterDelay:inModes:])
	
	* src/NSRunLoop.h: Added an instance variable to keep track of
	queued delayed actions to be performed on objects.

Tue Mar 31 11:32:03 1998  Adam Fedor  <fedor@doc.com>

	* aclocal.m4 (OBJC_CON_AUTOLOAD): Improved test. Check nm output
	for indicator functions.
	* configure: Regenerate.

	* checks/GNUmakefile (LoadMe_RESOURCE_FILES): Changed name.

	* doc/gnustep-howto.tmpl.texi: Update.
	* doc/status.tmpl.texi: Likewise.

Fri Mar 20 11:15:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* checks/client.m: Added some tests for passing objects byref

	* checks/server.h: Added ([-sendByref:]) to protocol.

	* checks/server.m: Added ([-sendByref:]) for testing 'byref'.

	* src/Coder.m: Added ([-encodeByrefObject:])

	* src/Encoder.m: Added ([-_doEncodeByrefObject:]) and changed the
	designated encoding method throughout from
	([-_encodeObject:withName:isBycopy:isForwardReference:]) to
	([-_encodeObject:withName:isBycopy:isByref:isForwardReference:])

	* src/NSCoder.m: Added ([-encodeBytes:length:]),
	([-encodeByrefObject:]) and ([-decodeBytesWithReturnedLength:])

	* src/NSConnection.m:  Modified ([-forwardForProxy:selector:argFrame:])
	and ([-_service_forwardForProxy:]) methods to handle byref flag.

	* src/NSDictionary.m: Added ([+dictionaryWithDictionary:])

	* src/NSPortCoder.m:  Added ([-isByref]) and ([-_doEncodeByrefObject:])
	methods and modified ([-_doEncodeBycopyObject:]) to handle byref flag.

	* src/include/Coding.h:  Added ([-encodeByrefObject:])

	* src/include/NSCoder.h:  Added ([-encodeBytes:length:]),
	([-encodeByrefObject:]) and ([-decodeBytesWithReturnedLength:])

	* src/include/NSDictionary.h:  Fixed prototype for the
	([+dictionaryWithDictionary:]) method.

	* src/include/NSPortCoder.h:  Added ([-isByref])

	* src/objc-gnu2next.m: Added _F_BYREF flag code

Fri Mar 13 15:05:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

        * src/NSCalendarDate.m: ([-descriptionWithCalendarFormat:locale:])
        Fixed bug in displaying time-zone - was displaying minutes and
        seconds when should have been showing hours and minutes.

Wed Mar 11 11:56:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* src/NSArray.m: ([-copyWithZone:]) changed to use the
	NSShouldRetainWithZone() function.

	* src/NSCalendarDate.m: ([-dealloc]) don't release the timezone -
	we never retain it anyway (should we?)
	([-setCalendarFormat:]) make a copy of the string we are given in
	case it gets changed or deleted.

	* src/NSConcreteNumber.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/NSData.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/NSDictionary.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/NSHost.m: Added ([-awakeAfterUsingCoder:])

	* src/NSNumber.m: Added ([-copy]) and ([-copyWithZone:])

	* src/NSString.m: ([-copyWithZone:]) fixed to use the
	NSShouldRetainWithZone() function.

	* src/TcpPort.m: Commented out unnecessary warning message.

	* src/NSTimeZone.m: Modified ([-encodeWithCoder:]) and
	([-awakeAfterUsingCoder:]) so that the local timezone is encoded
	specially and is restored as whatever the local timezone of the
	restoring application is.

	* src/NSValue.m: Added ([-copy]) and ([-isEqualToValue:])

Tue Mar 10 17:05:00 1998  Richard Frith-Macdonald  <richard@brainstorm.co.uk>

	* src/NSArray.m: ([-copyWithZone:]) rewritten to avoid doing
	unnecessary copy of non-mutable objects and to fix memory leak.

	* src/NSCTemplateValue.m: ([-isEqaul:]) and ([-isEqualToValue:])
	implemented.

	* src/NSCalendarDate.m: ([-initWithCoder:]) and ([-encodeWithCoder:])
	implemented.

	* src/NSConcreteNumber.m: ([-copy]) and ([-copyWithZone:])
	implemented to do simple retains.

	* src/NSDictionary.m: ([-copyWithZone:]) rewritten to avoid doing
	unnecessary copy of non-mutable objects and to fix memory leak.

	* src/NSGString.m: ([-cString]) fixed crash when called on empty
	string.

	* src/NSTimeZone.m: ([-awakeAfterUsingCoder:]) implemented to handle
	decopding of archived objects correctly.

	* src/include/NSValue.h: Added ([-isEqualToValue:])
