Introduction
============

   Make sure you have installed the GNUstep Makefile package (gnustep-make)
before trying to install this package (gnustep-base).  Configuring and
installing the gnustep-core suite of packages as a whole is no longer
supported - you need to configure and install each package in turn.

Configuration
=============

   Before doing anything, you need to make sure you have run the GNUstep
shell initialization script - which should have been installed when you
installed gnustep-make.  You need to type something like 

   . /usr/GNUstep/System/Makefiles/GNUstep.sh

where you need to use the full path of your GNUstep initialization script.
If you have based your GNUstep installation somewhere else than the default
(the default is /usr/GNUstep) - by using a special --prefix option when
configuring gnustep-make, then you need to replace `/usr/GNUstep/' with the
base of your gnustep installation.  For example, if you configured
gnustep-make using `./configure --prefix=/opt/GNUstep', then the GNUstep
shell initialization script is in /opt/GNUstep/System/Makefiles/GNUstep.sh.

   After you have run the GNUstep initialization script, you must configure
this package.  Configuration is performed by running the `configure' program
at a shell prompt. You may want to use some of the optional arguments to the
`configure' program. Type `./configure --help' for a list of these.  NB: you
should *not* use the `--prefix' option, since gnustep-base will
automatically install in the directory specified by the
`GNUSTEP_SYSTEM_ROOT' environment variable (specified when you installed
gnustep-make), and this should not be changed.

   Also make sure you've read the machine-specific instructions for your
particular operating system and CPU. These instructions come with the
core libraries and are also located at the GNUstep web site at
<http://www.gnustep.org>.

Reading Command-Line Arguments
==============================

   There are two features that change how GNUstep gets access to
command-line arguments and environment variables (normally passed to
the program in the `main()' function. These features are
`--enable-pass-arguments' and the `--enable-fake-main' option(s).

   The fake-main option _secretly_ renames the `main()' function and
substitutes it's own function which stores the command line arguments
before calling the real main.

   The pass-arguments option absolves GNUstep of any effort to get the
command-line arguments and instead forces the developer to insert the
line

       [NSProcessInfo initializeWithArguments:argv count:argc environment:env];

   in the `main()' function of their program.

   Normally, the configure script will determine if a program can read
process information directly from the system (for use by the class
NSProcessInfo) and enable or disable the fake-main hack automatically,
but if you find that configure is not doing this correctly, you can
force the fake-main hack to be used, which will always work. Note that
if the fake-main hack is enabled, you need to include the header file
GSConfig.h in you main program - this is done by default if you include
NSObject.h or Foundation.h. If you want to avoid the whole idea of the
fake-main hack, you can use the pass-arguments option. In this case you
will be forced to call the NSProcessInfo initializeWithArguments method
to pass the program arguments to NSProcessInfo (This would be done
automatically if you use the NSApplicationMain function in a gui
application).

FFI Library
===========

   GNUstep's NSInvocations and Distributed Objects code involves
detailed manipulation of function (method) calls, which does not work
on all machine architectures. A more robust and portable solution is to
use a library that implements a Foreign-Function Interface (FFI), such
as the ffcall libraries. If you use a non-x86 machine, you should
seriously consider enabling this option using `--enable-ffcall'.

   For this to work, you need to have the ffcall libraries, which you
can get from <ftp://ftp.santafe.edu/pub/gnu/> or
<http://clisp.cons.org/~haible/>. You also need to have a special
version of the Objective-C library (as of gcc 2.95.x the required hooks
are not in the standard library). You can get this library from
<ftp://www.gnustep.org/pub/gnustep/contrib/libobjc-hh.tar.gz> or patch
the standard library with the patch at
<ftp://www.gnustep.org/pub/gnustep/contrib/libobjc-ffi.patch>.

Compilation
===========

   To compile this library, type make. After this is complete, type make
install (make sure you are the root user). Some additional options you can
use with make are `debug=yes' to make a debugging version of the library and
`shared=no' to make a static version of the library. See the gnustep-make
package for more information on these options.
