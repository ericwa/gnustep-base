s/@srcdir@/./
s/@CC@/gcc -fgnu-runtime -D__MS_WIN32__/
s/@DYNAMIC_BUNDLER_LINKER@//
s/@DYNAMIC_LDFLAGS@//
s/@DYNAMIC_CFLAGS@//
s/LIBS = -L..\/src -l$(LIBRARY_NAME) @LIBOBJC@ @LIBS@ -lm/LIBS = ..\/src\/lib$(LIBRARY_NAME).lib libobjc.lib libgcc.lib libc.lib oldnames.lib user32.lib advapi32.lib wsock32.lib/
s/@NEXT_INCLUDES@//
s/CFLAGS = -Wall -Wno-implicit -Wno-format -g -O/CFLAGS = -Wall -Wno-implicit -Wno-format -O/
s/EXEEXT =/EXEEXT = .exe/
s/OEXT = .o/OEXT = .obj/
s/LIBEXT = .a/LIBEXT = .lib/
s/@DEFS@/-DHAVE_CONFIG_H=1/
/%: %$(OEXT)/,/$(CC) $(ALL_CFLAGS) $@$(OEXT)/c\
LINK_CMD = nm $@$(OEXT) | grep "  __GLOBAL_" > tmpinit.c \& collect tmpinit.c $@_init_runtime \& $(CC) -c $@_init_runtime.c \& rm tmpinit.c \& ld $@$(OEXT) $@_init_runtime$(OEXT) -o $@$(EXEEXT) $(ALL_LDFLAGS)\
tcpport-server: tcpport-server$(OEXT) ../src/lib$(LIBRARY_NAME)$(LIBEXT)\
	nm tcpport-server$(OEXT) | grep "  __GLOBAL_" > tmpinit.c\
	collect tmpinit.c tcpport_server_init_runtime\
	$(CC) -c tcpport_server_init_runtime.c\
	rm tmpinit.c\
	ld $@$(OEXT) tcpport_server_init_runtime$(OEXT) -o $@$(EXEEXT) $(ALL_LDFLAGS)\
\
tcpport-client: tcpport-client$(OEXT) ../src/lib$(LIBRARY_NAME)$(LIBEXT)\
	nm tcpport-client$(OEXT) | grep "  __GLOBAL_" > tmpinit.c\
	collect tmpinit.c tcpport_client_init_runtime\
	$(CC) -c tcpport_client_init_runtime.c\
	rm tmpinit.c\
	ld $@$(OEXT) tcpport_client_init_runtime$(OEXT) -o $@$(EXEEXT) $(ALL_LDFLAGS)\
\
%: %$(OEXT) ../src/lib$(LIBRARY_NAME)$(LIBEXT)\
	$(LINK_CMD)
s/clean: mostlyclean/clean: mostlyclean\
	rm *_init_runtime.*/
